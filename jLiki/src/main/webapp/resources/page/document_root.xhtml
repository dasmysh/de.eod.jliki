<?xml version="1.0" encoding="UTF-8" ?>
<!--
   Copyright (C) 2011 The jLiki Programming Team.
   This file is part of jLiki.
   For license see /LICENSE
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:composite="http://java.sun.com/jsf/composite" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">
  <h:head />
  <h:body>
    <composite:interface />

    <composite:implementation>
      <h:form>
        <ui:repeat value="#{docrootBean.documents}" var="doc">
          <rich:collapsiblePanel styleClass="documentPanel" header="#{doc.name}" expanded="false" switchType="ajax">
            <div>
              <ui:repeat value="#{fn:split(doc.description, '&#10;')}" var="descStr">
                <p>
                  <h:outputText value="#{descStr}"/>
                </p>
              </ui:repeat>
            </div>
            <ul>
              <li>dvi</li>
              <li>ps</li>
              <li>pdf</li>
            </ul>
            <a href="#">goto document page ...</a>
          </rich:collapsiblePanel>
        </ui:repeat>
      </h:form>
    </composite:implementation>
  </h:body>
</html>